<turbo-frame id="availability_<%= dom_id(@document) %>">
  <% @rtac.map { |rtac| [rtac, @items[rtac[:item_id]]] }.select { |(_, item)| item }.each do |(rtac, item)| %>
    <% component = Searchworks4::ItemStatusComponent.new(item: item, rtac: rtac) %>
    <turbo-stream action="replace" target="<%= component.dom_id %>" method="morph">
      <template>
        <%= render component %>
      </template>
    </turbo-stream>
  <% end %>
</turbo-frame>
