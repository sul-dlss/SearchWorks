<div class="metadata-panels">
  <%= render AccessPanels::CourseReservesComponent.new(document: document) %>

  <%= render AccessPanels::AvailabilityComponent.new(document: document) %>

  <% context = capture do %>
    <%= render AccessPanels::AppearsInComponent.new(document: document) %>
    <%= render AccessPanels::InCollectionComponent.new(document: document) %>
  <% end %>

  <% potential_context = capture do %>
    <%= render AccessPanels::ExhibitComponent.new(document: document) %>
    <%= render AccessPanels::OtherListingsComponent.new(document: document) %>
  <% end %>

  <% if context.present? || potential_context.present? %>
    <%= context %>
    <%= potential_context %>
  <% end %>

  <%= render AccessPanels::RelatedComponent.new(document: document) %>
</div>
