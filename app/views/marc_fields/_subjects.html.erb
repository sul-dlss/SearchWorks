<% if subjects.values.present? %>
  <%= render Searchworks4::MetadataFieldLayoutComponent.new do |component| %>
    <% component.with_label { subjects.label } %>
    <% subjects.values.each do |value| %>
      <% component.with_value do %>
        <% value.each_with_index do |field, index| %>
          <%= ' > ' unless index == 0 %>
          <% link_text = value[0..index].join(' ') %>
          <% title_text = value[0..index].join(' - ') %>
          <%= link_to(field.strip, search_catalog_path(q: "\"#{link_text}\"", search_field: 'subject_terms'), title: title_text, 'aria-label' => title_text) %>
        <% end %>
      <% end %>
    <% end  %>
  <% end  %>
<% end %>
